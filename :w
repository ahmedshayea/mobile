import CenterPage from "@components/CenterPage";
import Page from "@components/Page";
import ServerView from "@components/ServerView";
import { ThemedText } from "@components/ThemedText";
import { AppBar } from "@features/navigation/components/AppBar";
import QuestionDetail from "@forum/components/question/detail/QuestionDetail";
import { useQuestion } from "@forum/hooks/useQuestions";
import { QuestionsQueryKeys } from "@forum/keys";
import { useQuestionIdParams } from "@forum/questions/hooks";
import Animated from "react-native-reanimated";
import { TextInput } from "react-native-paper";
import { Container } from "@components/styled";
import { t } from "i18next";

const CreateNewAnswerScreen = () => {
  const questionId = useQuestionIdParams();

  if (!questionId) return <ThemedText>you can not view this screen</ThemedText>;

  const questionQuery = useQuestion(questionId);

  return (
    <Page>
      <AppBar title={questionQuery.data?.title} />
      <Animated.ScrollView>
        <ServerView status={questionQuery.status}>
          {questionQuery.data && (
            <QuestionDetail question={questionQuery.data} />
          )}
        </ServerView>
        <Container style={{ marginTop: 30, gap: 20 }}>
          <ThemedText variant="displaySmall">
            {t("write your answer")}
          </ThemedText>
          <TextInput
            theme={{ roundness: 20 }}
            numberOfLines={9}
            mode="outlined"
            multiline
          />
        </Container>
      </Animated.ScrollView>
    </Page>
  );
};

export default CreateNewAnswerScreen;
